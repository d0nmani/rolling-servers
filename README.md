# Cocktail Demo
## ログイン
## 言語変更
## マニュアル
## サービス
## アプリケーションマップ
## ビルド
1. 左ペインより、「ビルド」をクリックします。「ビルド管理」画面で右上の「ビルド作成」をクリックします。
2. 基本情報(ビルド名、説明、レジストリ名、イメージ名、バージョン)を入力します。
3. ビルドの際に行う処理を「ビルドタスク」を追加ボタンで追加します。
4. Githubからソースをダウンロードする場合は、タイプを「コードレポジトリ作業」で作成します。
5. ジョブ名、レポジトリURL、ブランチ、コードの保存パスを入力し、作成します。
- レポジトリURL: https://github.com/ykawanm/rolling-servers.git
- ブランチ： master
- コードの保存パス : repo
6. 「ビルドタスク」を追加ボタンで「イメージビルド作業」を追加します。
7. 以下のDockerfileを入力し、作成します。
```dockerfile

FROM node:carbon-slim
WORKDIR /usr/src/app
COPY repo/src/package*.json ./
RUN npm install
COPY repo/src .
ENV COLOR azure
EXPOSE 8000
CMD [ "node", "server" ]
```
8. 設定したビルドを保存する場合は、右上の「作成」ボタンを、ビルドを保存と共にコンテナイメージを作成する場合は、「作成/実行」をクリックします。
※ビルド実行は今回ビルドする際の「説明」を入力します。
## デプロイ
メインメニューの「サービス」を選択し、アプリケーションをデプロイする「アプリケーションマップ」をクリックします。「アプリケーションマップマップ」画面でグループのタイトルバーの右端にある「＋」ボタンをクリックします。以下の内容を入力または選択します。
#### サーバー基本情報
- サーバー名: rolling-servers
- グループ: Default
- タイプ: Multi
- 説明: デモアプリケーション
#### コンテナ
- コンテナ名: rolling-servers
- ビルド選択: rolling-servers
#### サービスポート
- コンテナ: rolling-servers
- ポートタイプ: Node Port
- ポート名: express
- ターゲットポート: 8000
- ポート: 8000
- 指定: チェック
- ノードポート: 32000
作成されたサーバーのIPをクリックしてサービスを確認します。
